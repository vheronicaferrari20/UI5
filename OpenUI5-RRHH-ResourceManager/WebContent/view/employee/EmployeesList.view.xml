<core:View 
    xmlns:core="sap.ui.core" 
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m"
	controllerName="App.controller.employee.EmployeesList"
	xmlns:l="sap.ui.layout" 
	xmlns:html="http://www.w3.org/1999/xhtml"
	>

        <Table

            id="employeesListTable"
            items="{EmployeesModel>/data}"
            enableBusyIndicator="true"
            busyIndicatorDelay="0"
            growing="true"
            growingScrollToLoad="true">
            
            
            <columns>
                <Column
                    width="4em">
                    <Text text="Legajo" />
                </Column>
                <Column>
                    <Text text="Apellido y Nombre" />
                </Column>
                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="Categoría" />
                </Column>

                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="País" />
                </Column>

                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="Site" />
                </Column>

                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="Estructura" />
                </Column>

                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="Equipo" />
                </Column>

                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="Industria" />
                </Column>

                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="Práctica" />
                </Column>

                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="SubPráctica" />
                </Column>

                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="Cliente" />
                </Column>
                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="Fecha Inicio" />
                </Column>
                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="Fecha Liberación" />
                </Column>
                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true">
                    <Text text="Comentarios" />
                </Column>
            </columns>
            <items>
                <ColumnListItem
                    type="Navigation"
                    press="onItemPressTable">
                    <customData>
                        <core:CustomData
                            key="custom-style"
                            value="{path : 'EmployeesModel>codEmpleado',
                                    formatter:'.formatter.addCSS'}"
                            writeToDom="true"/>
                    </customData>
                    <cells>
                        <Text
                            text="{EmployeesModel>codEmpleado}" />
                        <Text
                            text="{EmployeesModel>fullName}" />
                        <Text
                            text="{EmployeesModel>vCategoriaEmpleado}" />
                        <Text
                            text="{EmployeesModel>pais/name}" />

                        <Text
                            text="{EmployeesModel>site/siteEmplDescri}" />

                        <Text
                            text="{EmployeesModel>estructura/nomEstructura}" />
                        
                        <Text
                            text="{EmployeesModel>equipo/nomEquipo}" />
                        
                        <Text
                            text="{EmployeesModel>industria/name}" />

                        <Text
                            text="{EmployeesModel>practica/name}" />

                        <Text
                            text="{EmployeesModel>subPractica/name}" />

                        <Text
                            text="{EmployeesModel>proyectosActuales/0/opportunity/_account/Name}
                                  {EmployeesModel>proyectosActuales/0/opportunity/Name}  " />
                        <Text
                            text="{ path : 'EmployeesModel>proyectosActuales/0/desde',
                                    formatter : '.formatter.formatDate'}" />
                        <Text
                            text="{ path : 'EmployeesModel>proyectosActuales/0/hasta',
                                    formatter : '.formatter.formatDate'}" />
                        <Text
                            text="{path : 'EmployeesModel>comentarios',
                                   formatter : '.formatter.mostrarUltimoComentario' }" />
                    </cells>
                </ColumnListItem>
            </items>
        </Table>

</core:View>
